{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CURDL Python BD4</title>
    <link rel="stylesheet" href="{% static 'main.css' %}">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>
<body>

    <div class="container">
        <div class="row">
            <div class="col-md-8 offset-md-2">
                <h1 class="display-4 text-center">Vehiculos</h1>

                <form action="{% url 'create_vehiculo' %}" method="post" class="card card-body">
                    {% csrf_token %}
                    <div class="form-group">
                        <label for="num_bastidor">Número de Bastidor</label>
                        <input type="text" class="form-control" id="num_bastidor" name="num_bastidor" required>
                    </div>
                    <div class="form-group">
                        <label for="nombre_modelo">Nombre del Modelo</label>
                        <input type="text" class="form-control" id="nombre_modelo" name="nombre_modelo" required>
                    </div>
                    <div class="form-group">
                        <label for="precio">Precio</label>
                        <input type="number" step="0.01" class="form-control" id="precio" name="precio" required>
                    </div>
                    <div class="form-group">
                        <label for="descuento">Descuento</label>
                        <input type="number" step="0.01" class="form-control" id="descuento" name="descuento" required>
                    </div>
                    <div class="form-group">
                        <label for="potencia_fiscal">Potencia Fiscal</label>
                        <input type="number" class="form-control" id="potencia_fiscal" name="potencia_fiscal" required>
                    </div>
                    <div class="form-group">
                        <label for="cilindrada">Cilindrada</label>
                        <input type="number" class="form-control" id="cilindrada" name="cilindrada" required>
                    </div>
                    <div class="form-group">
                        <label for="en_stock">En Stock</label>
                        <input type="checkbox" id="en_stock" name="en_stock">
                    </div>
                    <div class="form-group">
                        <label for="id_concesionario">ID Concesionario</label>
                        <input type="number" class="form-control" id="id_concesionario" name="id_concesionario" required>
                    </div>
                    <div class="form-group">
                        <label for="id_servicio">ID Servicio</label>
                        <input type="number" class="form-control" id="id_servicio" name="id_servicio" required>
                    </div>
                    <button type="submit" class="btn btn-primary">Enviar</button>
                </form>
            
                <h2 class="mt-4 display-6 text-center">Lista de Vehiculos en la base de datos:</h2>
            
                {% for vehiculo in vehiculos %}
            
                <div class="card mt-4 shadow">
                    <div class="card-body">
                        <h5 class="card-title">{{ vehiculo.nombre_modelo }}</h5>
                        <p class="card-text">Número de Bastidor: {{ vehiculo.num_bastidor }}</p>
                        <p class="card-text">Precio: {{ vehiculo.precio }}</p>
                        <p class="card-text">Descuento: {{ vehiculo.descuento }}</p>
                        <p class="card-text">Potencia Fiscal: {{ vehiculo.potencia_fiscal }}</p>
                        <p class="card-text">Cilindrada: {{ vehiculo.cilindrada }}</p>
                        <p class="card-text">En Stock: {{ vehiculo.en_stock }}</p>
                        <p class="card-text">ID Concesionario: {{ vehiculo.id_concesionario }}</p>
                        <p class="card-text">ID Servicio: {{ vehiculo.id_servicio }}</p>
                        <form action="{% url 'delete_vehiculo' vehiculo.num_bastidor %}" method="post" style="display:inline;">
                            {% csrf_token %}
                            <button type="submit" class="btn btn-danger">Eliminar</button>
                        </form>
                        <a href="{% url 'edit_vehiculo' vehiculo.num_bastidor %}" class="btn btn-warning">Editar</a>
                    </div>
                </div>
            
                {% empty %}
                <p>No hay vehiculos en la base de datos.</p>
            
                {% endfor %}
            
                <h2 class="mt-4 display-6 text-center">Lista de Vehiculos ordenados por precio:</h2>
            
                {% for vehiculo in vehiculos_ordenados %}
            
                <div class="card mt-4 shadow">
                    <div class="card-body">
                        <h5 class="card-title">{{ vehiculo.nombre_modelo }}</h5>
                        <p class="card-text">Número de Bastidor: {{ vehiculo.num_bastidor }}</p>
                        <p class="card-text">Precio: {{ vehiculo.precio }}</p>
                        <p class="card-text">Descuento: {{ vehiculo.descuento }}</p>
                        <p class="card-text">Potencia Fiscal: {{ vehiculo.potencia_fiscal }}</p>
                        <p class="card-text">Cilindrada: {{ vehiculo.cilindrada }}</p>
                        <p class="card-text">En Stock: {{ vehiculo.en_stock }}</p>
                        <p class="card-text">ID Concesionario: {{ vehiculo.id_concesionario }}</p>
                        <p class="card-text">ID Servicio: {{ vehiculo.id_servicio }}</p>
                        <form action="{% url 'delete_vehiculo' vehiculo.num_bastidor %}" method="post" style="display:inline;">
                            {% csrf_token %}
                            <button type="submit" class="btn btn-danger">Eliminar</button>
                        </form>
                        <a href="{% url 'edit_vehiculo' vehiculo.num_bastidor %}" class="btn btn-warning">Editar</a>
                    </div>
                </div>
            
                {% empty %}
                <p>No hay vehiculos en la base de datos.</p>
            
                {% endfor %}
            
            </div>
        </div>
    </div>

</body>
</html>